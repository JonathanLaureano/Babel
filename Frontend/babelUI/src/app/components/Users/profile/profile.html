<div class="profile-container">
  <div class="profile-card">
    <h1>Profile Hub</h1>

    <div *ngIf="!user" class="loading">Loading profile...</div>

    <div *ngIf="user" class="profile-content">
      <nav class="tabs" role="tablist">
        <button
          class="tab"
          [class.active]="activeTab === 'info'"
          (click)="switchTab('info')"
          role="tab"
          [attr.aria-selected]="activeTab === 'info'"
          aria-controls="info-panel"
        >
          Profile Info
        </button>
        <button
          class="tab"
          [class.active]="activeTab === 'comments'"
          (click)="switchTab('comments')"
          role="tab"
          [attr.aria-selected]="activeTab === 'comments'"
          aria-controls="comments-panel"
        >
          Comments
        </button>
        <button
          class="tab"
          [class.active]="activeTab === 'bookmarks'"
          (click)="switchTab('bookmarks')"
          role="tab"
          [attr.aria-selected]="activeTab === 'bookmarks'"
          aria-controls="bookmarks-panel"
        >
          Bookmarks
        </button>
      </nav>

      <div class="tab-content">
        <div 
          *ngIf="activeTab === 'info'" 
          class="tab-panel"
          role="tabpanel"
          id="info-panel"
          aria-labelledby="info-tab"
        >
          <app-profile-info-tab
            [user]="user"
            [loading]="loading"
            [error]="error"
            [success]="success"
            (updateProfile)="updateProfile($event)"
            (deleteProfile)="deleteProfile()"
            (logout)="logout()"
          ></app-profile-info-tab>
        </div>

        <div 
          *ngIf="activeTab === 'comments'" 
          class="tab-panel"
          role="tabpanel"
          id="comments-panel"
          aria-labelledby="comments-tab"
        >
          <app-comments-tab
            [userId]="user.user_id"
          ></app-comments-tab>
        </div>

        <div 
          *ngIf="activeTab === 'bookmarks'" 
          class="tab-panel"
          role="tabpanel"
          id="bookmarks-panel"
          aria-labelledby="bookmarks-tab"
        >
          <app-bookmarks-tab
            [userId]="user.user_id"
          ></app-bookmarks-tab>
        </div>
      </div>
    </div>
  </div>
</div>
