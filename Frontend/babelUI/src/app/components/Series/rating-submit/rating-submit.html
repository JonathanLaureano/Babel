<div class="rating-submit">
  <div *ngIf="!hasRated && !submitting" class="rating-form">
    <h3>Rate this series</h3>
    <div class="star-selector">
      <button 
        *ngFor="let star of [1, 2, 3, 4, 5]" 
        class="star-button"
        [class.selected]="selectedRating >= star"
        (click)="selectRating(star)"
        (mouseenter)="hoverRating = star"
        (mouseleave)="hoverRating = 0"
        type="button"
      >
        {{ (hoverRating >= star || selectedRating >= star) ? '★' : '☆' }}
      </button>
    </div>
    <button 
      class="submit-button" 
      [disabled]="!selectedRating"
      (click)="submitRating()"
    >
      Submit Rating
    </button>
    <p *ngIf="error" class="error-message">{{ error }}</p>
  </div>

  <div *ngIf="submitting" class="loading">
    <p>Submitting your rating...</p>
  </div>

  <div *ngIf="hasRated" class="success-message">
    <p>✓ Thank you for rating!</p>
  </div>
</div>
